# T1: Диалог выбора даты при добавлении еды (прошлый день)

## Описание

При добавлении еды через AI (add_food / food_entries), если пользователь просматривает **прошлый день**, показать диалог: куда записать еду — на выбранную дату или на сегодня.

## Контекст

- Пользователь может выбирать прошлые дни в календаре/слайдере дат.
- При вводе «съел овсянку» AI возвращает `food_entries` и команду `add_food`.
- Без диалога приложение записывает еду на выбранную дату, что может быть неочевидно, если пользователь случайно смотрит прошлый день.

## Требования (UX + правила)

| Правило | Описание |
|---------|----------|
| **Сегодня** | `LocalDate.now()` в формате `yyyy-MM-dd` |
| **selectedDate == null** | Трактовать как «сегодня», диалог не показывать |
| **Условие диалога** | Показывать только если в ответе AI есть `food_entries` **и** выбранный день ≠ сегодня |
| **Варианты диалога** | Выбранный день (D) / Сегодня / Отмена |

## Варианты ответа в диалоге

1. **Выбранный день (D)** — записать еду на дату D (ту, что сейчас выбрана)
2. **Сегодня** — записать еду на текущую дату
3. **Отмена** — не записывать, закрыть диалог

## Источник правил

- [ARCHITECTURE.md](../ARCHITECTURE.md) — секция «UX Rules (Food Entry Date Selection)»
- [AI_CONTRACT.md](AI_CONTRACT.md) — формат `food_entries`, команда `add_food`
